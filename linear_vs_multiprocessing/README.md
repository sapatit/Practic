## Назначение программы

`linear_vs_multiprocessing.py` — это программа на Python, предназначенная для сравнения производительности линейной и многопроцессной обработки файлов, находящихся в архиве формата RAR. Программа считывает содержимое файлов из архива, обрабатывает их и логирует время выполнения для обеих стратегий обработки. Это полезно для понимания, как многопроцессная обработка может ускорить выполнение задач, связанных с чтением и обработкой данных.

## Установка

Для работы программы необходимо установить несколько зависимостей. Убедитесь, что у вас установлен Python версии 3.6 или выше. Затем выполните следующие шаги:

**Создайте и активируйте виртуальное окружение (рекомендуется):**

   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Linux/Mac
   venv\Scripts\activate  # Для Windows
   ```

**Установите необходимые библиотеки:**

   ```bash
   pip install rarfile tqdm pytest
   ```

## Использование

1. **Подготовьте архив:**

   Убедитесь, что архив `Files.rar`, содержащий файлы для обработки, уже находится в папке `data`.

2. **Запустите программу:**

   Выполните следующую команду в терминале:

   ```bash
   python linear_vs_multiprocessing.py
   ```

3. **Просмотрите результаты:**

   После выполнения программы результаты профилирования и времени выполнения будут записаны в файл `process.log`. Вы можете открыть этот файл, чтобы увидеть, сколько времени заняла линейная и многопроцессная обработка.

## Тестирование

В проекте также предусмотрены тесты для проверки функциональности программы. Тесты написаны с использованием `pytest` и `unittest`. 

### Запуск тестов

1. **Запустите тесты с помощью pytest:**

   ```bash
   pytest pytest_linear_vs_multiprocessing.py
   ```

2. **Или запустите тесты с помощью unittest:**

   ```bash
   python -m unittest test_linear_vs_multiprocessing.py
   ```

### Описание тестов

- **`pytest_linear_vs_multiprocessing.py`**: 
  - Создает временный RAR-архив для тестирования.
  - Тестирует функции `read_info`, `process_file` и `process_files`.

- **`test_linear_vs_multiprocessing.py`**:
  - Использует существующий RAR-архив для тестирования.
  - Тестирует те же функции, что и в предыдущем файле.

## Примеры использования

### Пример 1: Обработка файлов в архиве

1. Убедитесь, что архив `Files.rar` с файлами для обработки находится в папке `data`.
2. Запустите программу, как указано выше.
3. Проверьте файл `process.log` для анализа времени выполнения.

### Пример 2: Изменение количества процессов

Вы можете изменить количество процессов в строке:

```python
with Pool(processes=4) as pool:
```

Увеличьте или уменьшите значение `processes`, чтобы протестировать производительность с различным количеством процессов.

## Логирование

Программа использует модуль `logging` для записи информации о времени выполнения и профилирования. Логи будут записаны в файл `process.log` и также выведены в консоль.

## Заключение

Эта программа предоставляет простой способ сравнить производительность линейной и многопроцессной обработки файлов. Вы можете использовать её как основу для более сложных задач обработки данных.